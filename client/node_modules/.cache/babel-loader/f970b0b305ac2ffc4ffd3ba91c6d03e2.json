{"ast":null,"code":"import _regeneratorRuntime from\"/Users/arun/Documents/Capstone/Capstone-Studio-Project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/arun/Documents/Capstone/Capstone-Studio-Project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _assertThisInitialized from\"/Users/arun/Documents/Capstone/Capstone-Studio-Project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _classCallCheck from\"/Users/arun/Documents/Capstone/Capstone-Studio-Project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/arun/Documents/Capstone/Capstone-Studio-Project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/arun/Documents/Capstone/Capstone-Studio-Project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/arun/Documents/Capstone/Capstone-Studio-Project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{useState,Component}from'react';import axios from'axios';import\"../styles/_loginSty.scss\";import{Card}from'react-bootstrap';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var error_1=false;var AuthCredentials=/*#__PURE__*/function(_Component){_inherits(AuthCredentials,_Component);var _super=_createSuper(AuthCredentials);function AuthCredentials(props){var _this;_classCallCheck(this,AuthCredentials);_this=_super.call(this,props);_this.state={isLoginOpen:true,isRegisterOpen:false};return _this;}_createClass(AuthCredentials,[{key:\"showLoginBox\",value:function showLoginBox(){this.setState({isLoginOpen:true,isRegisterOpen:false});}},{key:\"showRegisterBox\",value:function showRegisterBox(){this.setState({isRegisterOpen:true,isLoginOpen:false});}},{key:\"render\",value:function render(){if(window.sessionStorage.getItem('isLoggedIn')==='true'){window.location=\"/profile\";}else{return/*#__PURE__*/_jsxs(\"div\",{className:\"root-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"box-controller\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"controller \"+(this.state.isLoginOpen?\"selected-controller\":\"\"),onClick:this.showLoginBox.bind(this),children:\"Login\"}),/*#__PURE__*/_jsx(\"div\",{className:\"controller \"+(this.state.isRegisterOpen?\"selected-controller\":\"\"),onClick:this.showRegisterBox.bind(this),children:\"Register\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"box-container\",children:[this.state.isLoginOpen&&/*#__PURE__*/_jsx(LoginBox,{}),this.state.isRegisterOpen&&/*#__PURE__*/_jsx(RegisterBox,{})]})]});}}}]);return AuthCredentials;}(Component);//Login Box\nexport{AuthCredentials as default};var LoginBox=/*#__PURE__*/function(_React$Component){_inherits(LoginBox,_React$Component);var _super2=_createSuper(LoginBox);function LoginBox(props){var _this2;_classCallCheck(this,LoginBox);_this2=_super2.call(this,props);_this2.state={email:\"\",password:\"\",err_status:false,succes_status:false,message:\"\"};_this2.onChangeEmail=_this2.onChangeEmail.bind(_assertThisInitialized(_this2));_this2.onChangePassword=_this2.onChangePassword.bind(_assertThisInitialized(_this2));_this2.submitLogin=_this2.submitLogin.bind(_assertThisInitialized(_this2));return _this2;}_createClass(LoginBox,[{key:\"onChangeEmail\",value:function onChangeEmail(e){var target=e.target;var value=target.value;// const name = target.name; \nthis.setState({email:value});}},{key:\"onChangePassword\",value:function onChangePassword(e){var target=e.target;var value=target.value;// const name = target.name; \nthis.setState({password:value});}},{key:\"submitLogin\",value:function(){var _submitLogin=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var user,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();user={email:this.state.email,password:this.state.password};// Checking for empty inputs \nif(!(user.email.length<3||user.email.trim()==\"\")){_context.next=6;break;}this.setState({err_status:true,message:\"Invalid Email\"});_context.next=15;break;case 6:if(!(user.password.length<6||user.password.trim()==\"\")){_context.next=10;break;}this.setState({err_status:true,message:\"Invalid Password\"});_context.next=15;break;case 10:_context.next=12;return axios.post('http://localhost:5000/user/login',user);case 12:response=_context.sent;console.log(response.data.message);if(response.data.message){this.setState({err_status:true,message:\"Wrong email or password\"});}else{if(response.data.redirect==='/'){window.sessionStorage.setItem('isLoggedIn',response.data.status);window.sessionStorage.setItem('userDetails',JSON.stringify(response.data.userDetails));this.setState({succes_status:true,err_status:false,message:\"Login Successful\"});// add a delay for 2 seconds \nsetTimeout(function(){window.location=\"/profile\";},3000);}else if(response.data.redirect==='/login'){window.location=\"/user\";}}case 15:this.setState({email:'',password:''});case 16:case\"end\":return _context.stop();}}},_callee,this);}));function submitLogin(_x){return _submitLogin.apply(this,arguments);}return submitLogin;}()},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"inner-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"box\",children:[/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"email\",className:\"login-input\",value:this.state.email,onChange:this.onChangeEmail,placeholder:\"Email\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",className:\"login-input\",value:this.state.password,onChange:this.onChangePassword,placeholder:\"Password\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"login-btn\",onClick:this.submitLogin.bind(this),children:\"Login\"})]}),/*#__PURE__*/_jsx(\"br\",{}),this.state.err_status?/*#__PURE__*/_jsx(\"div\",{class:\"alert alert-danger\",role:\"alert\",children:this.state.message}):\"\",this.state.succes_status?/*#__PURE__*/_jsx(\"div\",{class:\"alert alert-success\",role:\"alert\",children:this.state.message}):\"\"]})});}}]);return LoginBox;}(React.Component);//Register Box \nvar RegisterBox=/*#__PURE__*/function(_React$Component2){_inherits(RegisterBox,_React$Component2);var _super3=_createSuper(RegisterBox);function RegisterBox(props){var _this3;_classCallCheck(this,RegisterBox);_this3=_super3.call(this,props);_this3.state={firstName:\"\",lastName:\"\",email:\"\",password:\"\",error_status:false,success_status:false,message:\"\"};_this3.onChangeFirstName=_this3.onChangeFirstName.bind(_assertThisInitialized(_this3));_this3.onChangeLastName=_this3.onChangeLastName.bind(_assertThisInitialized(_this3));_this3.onChangeEmail=_this3.onChangeEmail.bind(_assertThisInitialized(_this3));_this3.onChangePassword=_this3.onChangePassword.bind(_assertThisInitialized(_this3));_this3.submitregister=_this3.submitregister.bind(_assertThisInitialized(_this3));return _this3;}_createClass(RegisterBox,[{key:\"onChangeFirstName\",value:function onChangeFirstName(e){var target=e.target;var value=target.value;var name=target.name;this.setState({firstName:value});}},{key:\"onChangeLastName\",value:function onChangeLastName(e){var target=e.target;var value=target.value;var name=target.name;this.setState({lastName:value});}},{key:\"onChangeEmail\",value:function onChangeEmail(e){var target=e.target;var value=target.value;var name=target.name;this.setState({email:value});}},{key:\"onChangePassword\",value:function onChangePassword(e){var target=e.target;var value=target.value;var name=target.name;this.setState({password:value});}},{key:\"submitregister\",value:function(){var _submitregister=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var user,response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();user={firstName:this.state.firstName,lastName:this.state.lastName,email:this.state.email,password:this.state.password};if(!(user.firstName.length<1||user.firstName.trim()==\"\")){_context2.next=6;break;}this.setState({error_status:true,message:\"Invalid Firstname\"});_context2.next=23;break;case 6:if(!(user.lastName.length<1||user.lastName.trim()==\"\")){_context2.next=10;break;}this.setState({error_status:true,message:\"Invalid Lastname\"});_context2.next=23;break;case 10:if(!(user.email.length<3||user.email.trim()==\"\")){_context2.next=14;break;}this.setState({error_status:true,message:\"Invalid Email\"});_context2.next=23;break;case 14:if(!(user.password.length<6||user.password.trim()==\"\")){_context2.next=18;break;}this.setState({error_status:true,message:\"Invalid Password\"});_context2.next=23;break;case 18:_context2.next=20;return axios.post('http://localhost:5000/user/signup',user);case 20:response=_context2.sent;console.log(response.data.success);if(response.data.email_use===true){this.setState({error_status:true,success_status:false,message:\"Sign up failed, Email Already Exists!\"});}else if(response.data.success===false){this.setState({error_status:true,success_status:false,message:\"Sign up failed, Please try again!\"});}else if(response.data.success===true){this.setState({success_status:true,error_status:false,message:\"You have Successfully Signed up!\"});setTimeout(function(){window.location=\"/user\";},2500);}case 23:this.setState({firstName:this.state.firstName,LastName:this.state.lastName,email:this.state.email,password:this.state.password});case 24:case\"end\":return _context2.stop();}}},_callee2,this);}));function submitregister(_x2){return _submitregister.apply(this,arguments);}return submitregister;}()},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"inner-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"box\",children:[/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"firstName\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"firstName\",className:\"login-input\",value:this.state.firstName,onChange:this.onChangeFirstName,placeholder:\"First Name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"lastName\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"lastName\",className:\"login-input\",value:this.state.lastName,onChange:this.onChangeLastName,placeholder:\"Last Name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"email\",className:\"login-input\",value:this.state.email,onChange:this.onChangeEmail,placeholder:\"Email\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",className:\"login-input\",value:this.state.password,onChange:this.onChangePassword,placeholder:\"Password\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"login-btn\",onClick:this.submitregister.bind(this),children:\"Register\"})]}),/*#__PURE__*/_jsx(\"br\",{}),this.state.error_status?/*#__PURE__*/_jsx(\"div\",{class:\"alert alert-danger\",role:\"alert\",children:this.state.message}):\"\",this.state.success_status?/*#__PURE__*/_jsx(\"div\",{class:\"alert alert-success\",role:\"alert\",children:this.state.message}):\"\"]})});}}]);return RegisterBox;}(React.Component);","map":{"version":3,"sources":["/Users/arun/Documents/Capstone/Capstone-Studio-Project/src/components/create-user.component.js"],"names":["React","useState","Component","axios","Card","error_1","AuthCredentials","props","state","isLoginOpen","isRegisterOpen","setState","window","sessionStorage","getItem","location","showLoginBox","bind","showRegisterBox","LoginBox","email","password","err_status","succes_status","message","onChangeEmail","onChangePassword","submitLogin","e","target","value","preventDefault","user","length","trim","post","response","console","log","data","redirect","setItem","status","JSON","stringify","userDetails","setTimeout","RegisterBox","firstName","lastName","error_status","success_status","onChangeFirstName","onChangeLastName","submitregister","name","success","email_use","LastName"],"mappings":"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","sourcesContent":["import React, { useState, Component } from 'react';\nimport axios from 'axios';\nimport \"../styles/_loginSty.scss\";\nimport { Card } from 'react-bootstrap'\n\n\nlet error_1 = false\nexport default class AuthCredentials extends Component {\n \n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoginOpen: true,\n      isRegisterOpen: false,\n    };\n  }\n\n  \n  showLoginBox() {\n    this.setState({isLoginOpen: true, isRegisterOpen: false});\n  }\n\n  showRegisterBox() {\n    this.setState({isRegisterOpen: true, isLoginOpen: false});\n  }\n\n  render() {\n    if (window.sessionStorage.getItem('isLoggedIn') === 'true'){\n      window.location = \"/profile\"\n    }\n    else{\n      return(\n        <div className=\"root-container\">\n  \n          <div className=\"box-controller\">\n            <div\n              className={\"controller \" + (this.state.isLoginOpen\n              ? \"selected-controller\"\n              : \"\")}\n              onClick={this\n              .showLoginBox\n              .bind(this)}>\n              Login\n            </div>\n            <div\n              className={\"controller \" + (this.state.isRegisterOpen\n              ? \"selected-controller\"\n              : \"\")}\n              onClick={this\n              .showRegisterBox\n              .bind(this)}>\n              Register\n            </div>\n          </div>\n          <div className=\"box-container\">\n            {this.state.isLoginOpen && <LoginBox/>}\n            {this.state.isRegisterOpen && <RegisterBox/>}\n          </div>\n        </div>\n      )\n\n    }\n    \n  }\n}\n\n//Login Box\nclass LoginBox extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      err_status : false,\n      succes_status: false,\n      message :\"\"\n    };\n    \n    this.onChangeEmail = this.onChangeEmail.bind(this);\n    this.onChangePassword = this.onChangePassword.bind(this);\n    this.submitLogin = this.submitLogin.bind(this);\n  }\n\n  onChangeEmail(e){\n    const target = e.target;\n    const value = target.value;\n    // const name = target.name; \n    this.setState({\n      email: value\n    })\n  }\n  onChangePassword(e){\n    const target = e.target;\n    const value = target.value;\n    // const name = target.name; \n    this.setState({\n      password: value\n    })\n  }\n\n  async submitLogin(e) {\n    e.preventDefault();\n    \n    \n    const user = {\n      email: this.state.email,\n      password: this.state.password\n    }\n\n    // Checking for empty inputs \n    if (user.email.length < 3 || user.email.trim() == \"\"){\n      this.setState({err_status: true, message: \"Invalid Email\"});\n    }\n    else if (user.password.length < 6 || user.password.trim() == \"\"){\n      this.setState({err_status: true, message: \"Invalid Password\"});\n    }\n    else{\n      const response = await axios.post('http://localhost:5000/user/login', user)\n      console.log(response.data.message)\n      if (response.data.message){\n        this.setState({err_status: true, message: \"Wrong email or password\"});\n      }\n      else{\n            \n        if (response.data.redirect === '/') {\n          window.sessionStorage.setItem('isLoggedIn', response.data.status);\n          window.sessionStorage.setItem('userDetails', JSON.stringify(response.data.userDetails));\n        \n          this.setState({succes_status: true, err_status: false, message: \"Login Successful\"});\n          \n          // add a delay for 2 seconds \n          setTimeout(() => {\n            window.location = \"/profile\"\n          }, 3000)\n        \n        } \n      \n        else if (response.data.redirect === '/login'){\n          window.location = \"/user\"\n        }\n      }\n\n    }\n  \n    this.setState({\n      email: '',\n      password: ''\n    })      \n\n  }\n  \n  render() {\n   \n    return (\n      <div className=\"inner-container\">\n        <div className=\"box\">\n          <form>\n            <div className=\"input-group\">\n              <label htmlFor=\"email\">Email</label>\n              <input type=\"text\" name=\"email\" className=\"login-input\" value={this.state.email}\n                onChange={this.onChangeEmail}placeholder=\"Email\"/>\n            </div>\n\n            <div className=\"input-group\">\n              <label htmlFor=\"password\">Password</label>\n              <input\n                type=\"password\"\n                name=\"password\"\n                className=\"login-input\"\n                value={this.state.password}\n                onChange={this.onChangePassword}\n                placeholder=\"Password\"/>\n            </div>\n\n            <button\n              type=\"submit\"\n              className=\"login-btn\"\n              onClick={this\n              .submitLogin\n              .bind(this)}>Login</button>\n          </form>\n          <br/>\n          \n          {this.state.err_status ? <div class=\"alert alert-danger\" role=\"alert\">\n            {this.state.message}\n          </div> : \"\"}\n          {this.state.succes_status ? <div class=\"alert alert-success\" role=\"alert\">\n            {this.state.message}\n          </div> : \"\"}\n               \n        </div>\n      </div>\n    );\n  }\n\n}\n\n//Register Box \nclass RegisterBox extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      firstName: \"\",\n      lastName: \"\",\n      email: \"\",\n      password: \"\",\n      error_status: false,\n      success_status: false,\n      message: \"\"\n\n    };\n\n    this.onChangeFirstName = this.onChangeFirstName.bind(this);\n    this.onChangeLastName = this.onChangeLastName.bind(this);\n    this.onChangeEmail = this.onChangeEmail.bind(this);\n    this.onChangePassword = this.onChangePassword.bind(this);\n    this.submitregister = this.submitregister.bind(this);\n  }\n\n  onChangeFirstName(e){\n    const target = e.target;\n    const value = target.value;\n    const name = target.name; \n    this.setState({\n      firstName: value,\n    })\n  }\n  onChangeLastName(e){\n    const target = e.target;\n    const value = target.value;\n    const name = target.name; \n    this.setState({\n      lastName: value,\n    })\n  }\n  onChangeEmail(e){\n    const target = e.target;\n    const value = target.value;\n    const name = target.name; \n    this.setState({\n      email: value,\n    })\n  }\n  onChangePassword(e){\n    const target = e.target;\n    const value = target.value;\n    const name = target.name; \n    this.setState({\n      password: value,\n    })\n  }\n\n  async submitregister(e) {\n    e.preventDefault();\n\n    const user = {\n      firstName: this.state.firstName,\n      lastName: this.state.lastName,\n      email: this.state.email,\n      password: this.state.password\n    }\n\n    if (user.firstName.length < 1 || user.firstName.trim() == \"\"){\n      this.setState({error_status: true, message: \"Invalid Firstname\"});\n    }\n    else if (user.lastName.length < 1 || user.lastName.trim() == \"\"){\n      this.setState({error_status: true, message: \"Invalid Lastname\"});\n    }\n    else if (user.email.length < 3 || user.email.trim() == \"\"){\n      this.setState({error_status: true, message: \"Invalid Email\"});\n    }\n    else if (user.password.length < 6 || user.password.trim() == \"\"){\n      this.setState({error_status: true, message: \"Invalid Password\"});\n    }\n   \n    else{\n      const response = await axios.post('http://localhost:5000/user/signup', user)\n      console.log(response.data.success)\n      if(response.data.email_use === true){\n        this.setState({error_status: true, success_status: false,message: \"Sign up failed, Email Already Exists!\"});\n      }\n      else if (response.data.success === false){\n        this.setState({error_status: true, success_status: false,message: \"Sign up failed, Please try again!\"});\n      }\n      else if (response.data.success === true){\n        this.setState({success_status: true, error_status: false,message: \"You have Successfully Signed up!\"});\n        setTimeout(() => {\n          window.location = \"/user\"\n        }, 2500)\n      }\n      \n    }\n\n    \n   \n\n    this.setState({\n      firstName: this.state.firstName,\n      LastName: this.state.lastName,\n      email: this.state.email,\n      password: this.state.password\n    })\n  }\n\n  render() {\n    return (\n      <div className=\"inner-container\">\n        <div className=\"box\">\n          <form>\n            <div className=\"input-group\">\n              <label htmlFor=\"firstName\">First Name</label>\n              <input\n                type=\"text\"\n                name=\"firstName\"\n                className=\"login-input\"\n                value={this.state.firstName}\n                onChange={this.onChangeFirstName}\n                placeholder=\"First Name\"/>\n            </div>\n            <div className=\"input-group\">\n              <label htmlFor=\"lastName\">Last Name</label>\n              <input\n                type=\"text\"\n                name=\"lastName\"\n                className=\"login-input\"\n                value={this.state.lastName}\n                onChange={this.onChangeLastName}\n                placeholder=\"Last Name\"/>\n            </div>\n\n            <div className=\"input-group\">\n              <label htmlFor=\"email\">Email</label>\n              <input type=\"text\" name=\"email\" className=\"login-input\" value={this.state.email}\n                onChange={this.onChangeEmail}placeholder=\"Email\"/>\n            </div>\n\n            <div className=\"input-group\">\n              <label htmlFor=\"password\">Password</label>\n              <input\n                type=\"password\"\n                name=\"password\"\n                className=\"login-input\"\n                value={this.state.password}\n                onChange={this.onChangePassword}\n                placeholder=\"Password\"/>\n            </div>\n            <button\n              type=\"submit\"\n              className=\"login-btn\"\n              onClick={this\n              .submitregister\n              .bind(this)}>Register</button>\n          </form>\n\n          <br/>\n          \n          {this.state.error_status ? <div class=\"alert alert-danger\" role=\"alert\">\n            {this.state.message}\n          </div> : \"\"}\n          {this.state.success_status ? <div class=\"alert alert-success\" role=\"alert\">\n            {this.state.message}\n          </div> : \"\"}\n        </div>   \n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}